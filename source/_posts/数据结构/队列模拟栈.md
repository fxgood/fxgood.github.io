---
date: 2021-07-29
title: 队列模拟栈
category: 数据结构
tag: 
- 队列
- 栈
excerpt: 使用一个队列，模拟栈的功能
---

栈模拟队列需要两个，而队列模拟栈最少**只需要一个**。即每次需要出栈时，把队尾元素返回即可（其他元素出队再入队）。
<img src="https://img-blog.csdnimg.cn/c80dd4ea487c4b5d9351965f2bd1fb80.png" width=50%>
<img src="https://img-blog.csdnimg.cn/b13720d646984acf8b62374d95d0033b.png" width=30%>

下面给出用**双队列**模拟栈的代码，其中`now`标记的使用，比较巧妙
```cpp
class MyStack {
private:
    queue<int> qArr[2];
    int now=0;
public:
    /** Initialize your data structure here. */
    MyStack() {

    }
    
    /** Push element x onto stack. */
    void push(int x) {
        qArr[1-now].push(x);
        while(!qArr[now].empty()){
            qArr[1-now].push(qArr[now].front());
            qArr[now].pop();
        }
        now=1-now;
    }
    
    /** Removes the element on top of the stack and returns that element. */
    int pop() {
        int ans=qArr[now].front();
        qArr[now].pop();
        return ans;
    }
    
    /** Get the top element. */
    int top() {
        return qArr[now].front();
    }
    
    /** Returns whether the stack is empty. */
    bool empty() {
        return qArr[now].empty();
    }
};
```