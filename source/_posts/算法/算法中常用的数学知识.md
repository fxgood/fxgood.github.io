---
title: 算法中常用的数学知识
date: 2021-05-29
category: 算法
excerpt: 记录一些在算法题中常见的数学知识，包括算数基本定理、约数定理等等。（注hexo的markdown编译器貌似不兼容latex公式，公式渲染会有些问题）
---

- 算数基本定理（唯一分解定理）
	- 对于一个大于1的整数n，n可以分解质因数为：
		-   $\prod_{i=1}^kp_i^{a_i}={p_1^{a_1}}\cdot{p_2^{a_2}}\cdots{p_k^{a_k}}$
		- 其中$p_i$表示n的第i个质因子
		- 例：18 = $2^1$ × $3^2$
- 约数定理：一个正整数n的正约数的个数 $d(n)=\prod_{i=1}^k(a_i+1)=(a_1+1)(a_2+1)\cdots(a_k+1)$
	- 这里的$a_i$就是n的各个质因数的幂 
- 曼哈顿距离：$|x_1-x_2|+|y_1-y_2|$
- 三角形（或者平行四边形）面积公式，使用向量外积
	- $S_\Delta=|\frac 1 2\cdot \vec{a}\times\vec{b}|=\frac 1 2|(x_1\cdot{y_2}-x_2\cdot{y_1})|$ 
	- 在二维空间中，向量外积的一个几何意义就是：|a×b|在数值上等于由向量a和向量b构成的平行四边形的面积
- 线性筛-欧拉函数算法，可以快速求1~n范围内与n互质的数的个数
```cpp
const ll MAX_N = 1e7 + 5;

const ll ANS_MOD = 1e9 + 7;

ll phi[MAX_N], cnt_d[MAX_N], cnt, vis[MAX_N], prim[MAX_N];

/**
 * 欧拉线性筛模板
 */
void init() {
    phi[1] = 1; // φ(1) = 1
    for (int i = 2; i <= MAX_N; i++) {
        if (!vis[i]) {
            phi[i] = i - 1; // 如果𝑖是素数，那么𝜑(𝑖)=𝑖−1
            prim[++cnt] = i; // 素数表
        }
        // 迭代素数表，更新 i*prim[j] (是合数)的φ值
        for (int j = 1; j <= cnt; j++) {
            int tp = prim[j];
            if (i * tp > MAX_N) break;
            vis[i * tp] = true;

            if (i % tp == 0) { // 如果𝑖%𝑝𝑟𝑖𝑚[𝑗]==0，
                phi[i * tp] = phi[i] * tp;// 则𝜑(𝑖∗𝑝𝑟𝑖𝑚[𝑗])=𝜑(𝑖)∗𝑝𝑟𝑖𝑚[𝑗]（
                break;
            } else // 如果𝑖%𝑝𝑟𝑖𝑚[𝑗]!=0 ,那么(𝑖,𝑝𝑟𝑖𝑚[𝑗])==1, 则有
                phi[i * tp] = phi[i] * phi[tp]; //𝜑(𝑖∗𝑝𝑟𝑖𝑚[𝑗])=𝜑(𝑖)∗𝜑(𝑝𝑟𝑖𝑚[𝑗])
        }
    }
    cnt_d[1] = phi[1];
    for (int i = 2; i < MAX_N; i++)
        cnt_d[i] = cnt_d[i - 1] + 2 * phi[i];
}

```