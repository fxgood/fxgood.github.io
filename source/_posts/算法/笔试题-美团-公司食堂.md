---
title: 公司食堂
category: 算法
tag:
- 美团
excerpt: 这一题要充分利用优先级队列和堆. 另外输出语句非常耗时!!先攒在StringBuilder中最后再统一输出即可解决问题.
---

[美团笔试-公司食堂](https://www.nowcoder.com/questionTerminal/601815bea5544f389bcd20fb5ebca6a8?answerType=1&f=discussion)

由于最左边的1的位置是会时刻变化的,因此要采用优先级队列

而0的最左端坐标只会增加,所以可以采用栈,效率更高.

这一题最后两个用例死活超时,最后看了题解才发现大坑: **输出语句非常耗时**,需要将多个输出先拼接,最后一起输出.

(小坑: 注意拼接字符串的时候,不能直接用 `k +'\n'`,字符型和int型会直接相加)

```java
import java.util.*;
public class Main{
    public static void main(String[]args){
        int t,n,m;
/*        FileInputStream fis=null;
        try {
            fis=new FileInputStream("E:\\test.txt");
        } catch (FileNotFoundException e) {
            throw new RuntimeException(e);
        }
        Scanner sc=new Scanner(fis);
*/
        Scanner sc=new Scanner(System.in);
        t=sc.nextInt();
        while(t>0){
            t--;
            n=sc.nextInt();
            //Queue<Integer>zero=new PriorityQueue(n);
            Stack<Integer>zero=new Stack<>();
            PriorityQueue<Integer>one=new PriorityQueue<>();
            String seats=sc.next();
            for(int i=n;i>=1;i--){
                if(seats.charAt(i-1)=='1'){
                    one.offer(i);
                }else if(seats.charAt(i-1)=='0'){
                    zero.push(i);
                }
            }
            m=sc.nextInt();
            String people=sc.next();
            StringBuilder sb=new StringBuilder();
            for(int i=0;i<m;i++){
                if(people.charAt(i)=='M'){
                    if(one.isEmpty()){
                        int k=zero.pop();
                        sb.append(k).append('\n');
                        one.offer(k);
                    }else{
                        sb.append(one.poll()).append('\n');
                    }
                }else{
                    if(zero.isEmpty()){
                        int k=one.poll();
                        sb.append(k).append('\n');
                    }else{
                        int k=zero.pop();
                        one.offer(k);
                        sb.append(k).append('\n');
                    }
                }
            }
            System.out.print(sb);
        }
    }
}
```

