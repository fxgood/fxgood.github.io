---
title: 排列数与组合数的递归实现
date: 2021-08-19
category: 算法
tag:
- 递归
excerpt: 用递归来实现排列数与组合数
---

# 排列数
排列数：从N个目标中选出M个进行排列（即使元素相同，其顺序不同，排列也不同）
![在这里插入图片描述](https://yfx-blog-image.oss-cn-hangzhou.aliyuncs.com/img/272c1e14a5854ff5a2ab4883a2bfd8a2.png)
[leetcode46 全排列](https://leetcode-cn.com/problems/permutations/)

```cpp
class Solution {
public:
    vector<vector<int>>ans;
    vector<vector<int>> permute(vector<int>& nums) {
        dfs(nums,0);
        return ans;
    }
    //处理下标为k的数
    void dfs(vector<int>& nums,int k){
        if(k==nums.size()){
            ans.push_back(nums);
            return;
        }
        for(int i=k;i<nums.size();i++){
            swap(nums[i],nums[k]);
            dfs(nums,k+1);
            swap(nums[i],nums[k]);
        }
    }
};
```
**若存在重复元素**

```cpp
void permutation(vector<int>&nums,int k){
    //在下一轮进行判断
    if(k==nums.size()){
        ans.push_back(nums);
        return;
    }
    set<int>record;	//选择第k个位置的数字，不能重复选择相同的数字
    for(int i=k;i<nums.size();i++){
        int target=nums[i];
        if(record.find(target)!=record.end()){
            continue;
        }
        record.insert(target);
        swap(nums[i],nums[k]);
        permutation(nums,k+1);
        swap(nums[i],nums[k]);
    }

```
# 组合数
组合数：从N个目标中选出M个进行组合（顺序不影响结果）
![在这里插入图片描述](https://img-blog.csdnimg.cn/c07d76428e1f43ccbcaebafb163c4d3b.png)
[leetcode77 组合](https://leetcode-cn.com/problems/combinations/)

```java
class Solution {
    private List<List<Integer>>ans=new ArrayList<>();
    private List<Integer>tmp=new ArrayList<>();
    private int n,k;
    public List<List<Integer>> combine(int n, int k) {
        this.n=n;
        this.k=k;
        dfs(1);
        return ans;
    }

    //从下标t~n中选一个数
    void dfs(int t){
        if(tmp.size()==k){
            ans.add(new ArrayList<Integer>(tmp));
            return;
        }
        if(t==n+1){
            return;
        }
        for(int i=t;i<=n;i++){
            tmp.add(i);
            dfs(i+1);
            tmp.remove(tmp.size()-1);
        }
    }


}
```