---
title: 队列操作
category: 算法
tag:
- 笔试题
- 腾讯
excerpt: 手动用数组模拟一个队列. 注意存在大量取余操作来防止index错误.
---

[牛客网-腾讯-队列操作](https://www.nowcoder.com/questionTerminal/e542dfa97dd842578875fa592c982dbb?f=discussion)

几个注意事项

1. tail必须和head空一个位置,否则全满和全空无法区分
2. 插入的时候记得是插在tail的前一个位置
3. 各种移动tail和head的操作都要进行取余!

```java
import java.util.*;
public class Main{
    public static void main(String[]args){
        Scanner sc=new Scanner(System.in);
        int t=sc.nextInt();
        while(t>0){
            t--;
            int q=sc.nextInt();
            Que que=new Que();
            while(q>0){
                q--;
                String op=sc.next();
                if("TOP".equals(op)){
                    que.top();
                }else if("PUSH".equals(op)){
                    que.push(sc.nextInt());
                }else if("POP".equals(op)){
                    que.pop();
                }else if("SIZE".equals(op)){
                    que.SIZE();
                }else if("CLEAR".equals(op)){
                    que.clear();
                }
            }
        }
    }
}

class Que{
    final int MAX=1000;
    int[]nums=new int[MAX];
    int head=0,tail=1;    //tail指向的位置不存数字
    Que(){
        
    }
    void top(){
        if(size()==0)
            System.out.println(-1);
        else{
            System.out.println(nums[head]);
        }
    }
    void push(int x){
        nums[(tail-1+MAX)%MAX]=x;
        tail++;
        tail%=MAX;
    }
    
    private int size(){
        return (tail+MAX-head-1)%MAX;
    }
    
    void SIZE(){
        System.out.println(size());
    }
    
    void pop(){
        if(size()==0)
            System.out.println(-1);
        else{
            head++;
            head%=MAX;
        }
            
    }
    
    void clear(){
        tail=(head+1)%MAX;
    }
    
}
```

